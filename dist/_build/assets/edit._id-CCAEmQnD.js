import{a as p,az as m,y as d,aA as h,aB as f,j as e,aC as b,F as g,aD as x,aE as y,aF as j,i as a,aG as _,aH as q,aI as P,aJ as C,b as u}from"./client-Dxsqy_tD.js";import{u as S}from"./useView-BtNlwLXv.js";import"./useQuery-CFxh-fuH.js";import"./useBaseQuery-CvGSis-A.js";const E=s=>({editProduct:p({mutationFn:t=>m("products",s,t),onSuccess:()=>{d.success("Product created successfully!",{position:"top-right",autoClose:2e3}),history.back()},onError:t=>{d.error(`Failed to create product: ${t}`,{position:"top-right",autoClose:2e3})}}),handleSubmit:t=>{t.preventDefault()}}),M=function(){const{id:o}=h.useParams(),{isOpen:i,onOpenChange:t}=f({defaultOpen:!0,onClose:()=>history.back()}),{editProduct:n,handleSubmit:c}=E(o),{data:r}=S(o);return e.jsx("div",{children:e.jsx(b,{isOpen:i,scrollBehavior:"inside",onOpenChange:t,backdrop:"opaque",classNames:{backdrop:"bg-gradient-to-t from-zinc-900 to-zinc-900/10 backdrop-opacity-20"},children:e.jsx(g,{validationBehavior:"native",onSubmit:c,children:e.jsxs(x,{children:[e.jsx(y,{className:"flex flex-col gap-1",children:"Create Products"}),e.jsxs(j,{children:[e.jsx(a,{defaultValue:r?.name,isRequired:!0,required:!0,errorMessage:"Please enter product name",name:"name",placeholder:"Enter product name"}),e.jsx(a,{defaultValue:r?.description,isRequired:!0,required:!0,errorMessage:"Please enter product description",name:"description",placeholder:"Enter product description"}),e.jsx(a,{defaultValue:r?.quantity,isRequired:!0,required:!0,errorMessage:"Please enter product quantity",name:"quantity",placeholder:"Enter product quantity",type:"number"}),e.jsx(a,{defaultValue:r?.price,isRequired:!0,required:!0,errorMessage:"Please enter product price",name:"price",placeholder:"Enter product price",type:"number"}),e.jsx(_,{defaultSelectedKeys:r?.category?[r.category]:[],isRequired:!0,name:"category",placeholder:"Select category",items:q,"aria-label":"Select category",children:l=>e.jsx(P,{children:l.label})})]}),e.jsxs(C,{children:[e.jsx(u,{color:"danger",variant:"light",onPress:t,children:"Close"}),e.jsx(u,{color:"primary",type:"submit",disabled:n.isPending,children:n.isPending?"Creating...":"Create"})]})]})})})})};export{M as component};
