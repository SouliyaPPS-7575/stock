import{Q as se,k as _,m as re,n as ne,o as oe,r as g,t as V,q as l,s as ie,v as q,w as Z,x as z,z as $,A as H,j as x,B as le,C as D,D as de,p as N}from"./client-DOmGckwP.js";var ce=class extends se{constructor(e,r){super(e,r)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,r){super.setOptions({...e,behavior:_()},r)}getOptimisticResult(e){return e.behavior=_(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,r){const{state:i}=e,o=super.createResult(e,r),{isFetching:a,isRefetching:t,isError:c,isRefetchError:u}=o,s=i.fetchMeta?.fetchMore?.direction,f=c&&s==="forward",n=a&&s==="forward",m=c&&s==="backward",h=a&&s==="backward";return{...o,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:ne(r,i.data),hasPreviousPage:re(r,i.data),isFetchNextPageError:f,isFetchingNextPage:n,isFetchPreviousPageError:m,isFetchingPreviousPage:h,isRefetchError:u&&!f&&!m,isRefetching:t&&!n&&!h}}};function ue(e,r){return oe(e,ce)}function ge(){const e=()=>()=>{};return g.useSyncExternalStore(e,()=>!0,()=>!1)}var L=V({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1},compoundVariants:[{showSkeleton:!0,disableAnimation:!1,class:{wrapper:["before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"]}}],compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]}),Q=V({slots:{base:["relative","inline-flex","shrink-0"],badge:["flex","z-10","flex-wrap","absolute","box-border","rounded-full","whitespace-nowrap","place-content-center","origin-center","items-center","text-inherit","select-none","font-regular","scale-100","opacity-100","subpixel-antialiased","data-[invisible=true]:scale-0","data-[invisible=true]:opacity-0"]},variants:{variant:{solid:{},flat:{},faded:{badge:"border-medium"},shadow:{}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{badge:"px-1 text-tiny"},md:{badge:"px-1 text-small"},lg:{badge:"px-1 text-small"}},placement:{"top-right":{},"top-left":{},"bottom-right":{},"bottom-left":{}},shape:{circle:{},rectangle:{}},isInvisible:{true:{}},isOneChar:{true:{badge:"px-0"}},isDot:{true:{}},disableAnimation:{true:{badge:"transition-none"},false:{badge:"transition-transform-opacity !ease-soft-spring !duration-300"}},showOutline:{true:{badge:"border-2 border-background"},false:{badge:"border-transparent border-0"}}},defaultVariants:{variant:"solid",color:"default",size:"md",shape:"rectangle",placement:"top-right",showOutline:!0,isInvisible:!1},compoundVariants:[{variant:"solid",color:"default",class:{badge:l.solid.default}},{variant:"solid",color:"primary",class:{badge:l.solid.primary}},{variant:"solid",color:"secondary",class:{badge:l.solid.secondary}},{variant:"solid",color:"success",class:{badge:l.solid.success}},{variant:"solid",color:"warning",class:{badge:l.solid.warning}},{variant:"solid",color:"danger",class:{badge:l.solid.danger}},{variant:"shadow",color:"default",class:{badge:l.shadow.default}},{variant:"shadow",color:"primary",class:{badge:l.shadow.primary}},{variant:"shadow",color:"secondary",class:{badge:l.shadow.secondary}},{variant:"shadow",color:"success",class:{badge:l.shadow.success}},{variant:"shadow",color:"warning",class:{badge:l.shadow.warning}},{variant:"shadow",color:"danger",class:{badge:l.shadow.danger}},{variant:"flat",color:"default",class:{badge:l.flat.default}},{variant:"flat",color:"primary",class:{badge:l.flat.primary}},{variant:"flat",color:"secondary",class:{badge:l.flat.secondary}},{variant:"flat",color:"success",class:{badge:l.flat.success}},{variant:"flat",color:"warning",class:{badge:l.flat.warning}},{variant:"flat",color:"danger",class:{badge:l.flat.danger}},{variant:"faded",color:"default",class:{badge:l.faded.default}},{variant:"faded",color:"primary",class:{badge:l.faded.primary}},{variant:"faded",color:"secondary",class:{badge:l.faded.secondary}},{variant:"faded",color:"success",class:{badge:l.faded.success}},{variant:"faded",color:"warning",class:{badge:l.faded.warning}},{variant:"faded",color:"danger",class:{badge:l.faded.danger}},{isOneChar:!0,size:"sm",class:{badge:"w-4 h-4 min-w-4 min-h-4"}},{isOneChar:!0,size:"md",class:{badge:"w-5 h-5 min-w-5 min-h-5"}},{isOneChar:!0,size:"lg",class:{badge:"w-6 h-6 min-w-6 min-h-6"}},{isDot:!0,size:"sm",class:{badge:"w-3 h-3 min-w-3 min-h-3"}},{isDot:!0,size:"md",class:{badge:"w-3.5 h-3.5 min-w-3.5 min-h-3.5"}},{isDot:!0,size:"lg",class:{badge:"w-4 h-4 min-w-4 min-h-4"}},{placement:"top-right",shape:"rectangle",class:{badge:"top-[5%] right-[5%] translate-x-1/2 -translate-y-1/2"}},{placement:"top-left",shape:"rectangle",class:{badge:"top-[5%] left-[5%] -translate-x-1/2 -translate-y-1/2"}},{placement:"bottom-right",shape:"rectangle",class:{badge:"bottom-[5%] right-[5%] translate-x-1/2 translate-y-1/2"}},{placement:"bottom-left",shape:"rectangle",class:{badge:"bottom-[5%] left-[5%] -translate-x-1/2 translate-y-1/2"}},{placement:"top-right",shape:"circle",class:{badge:"top-[10%] right-[10%] translate-x-1/2 -translate-y-1/2"}},{placement:"top-left",shape:"circle",class:{badge:"top-[10%] left-[10%] -translate-x-1/2 -translate-y-1/2"}},{placement:"bottom-right",shape:"circle",class:{badge:"bottom-[10%] right-[10%] translate-x-1/2 translate-y-1/2"}},{placement:"bottom-left",shape:"circle",class:{badge:"bottom-[10%] left-[10%] -translate-x-1/2 translate-y-1/2"}}]});function me(e={}){const{onLoad:r,onError:i,ignoreFallback:o}=e,a=ge(),t=g.useRef(a?new Image:null),[c,u]=g.useState("pending");g.useEffect(()=>{t.current&&(t.current.onload=f=>{s(),u("loaded"),r?.(f)},t.current.onerror=f=>{s(),u("failed"),i?.(f)})},[t.current]);const s=()=>{t.current&&(t.current.onload=null,t.current.onerror=null,t.current=null)};return ie(()=>{a&&u(fe(e,t))},[a]),o?"loaded":c}function fe(e,r){const{loading:i,src:o,srcSet:a,crossOrigin:t,sizes:c,ignoreFallback:u}=e;if(!o)return"pending";if(u)return"loaded";const s=new Image;return s.src=o,t&&(s.crossOrigin=t),a&&(s.srcset=a),c&&(s.sizes=c),i&&(s.loading=i),r.current=s,s.complete&&s.naturalWidth?"loaded":"loading"}function be(e){var r,i;const o=q(),a=(i=(r=e?.disableAnimation)!=null?r:o?.disableAnimation)!=null?i:!1,[t,c]=Z(e,Q.variantKeys),{as:u,children:s,className:f,content:n,classNames:m,...h}=t,b=u||"span",d=g.useMemo(()=>{var w;return((w=String(n))==null?void 0:w.length)===1||e?.isOneChar},[n,e?.isOneChar]),p=g.useMemo(()=>{var w;return((w=String(n))==null?void 0:w.length)===0},[n]),v=z(m?.badge,f),P=g.useMemo(()=>Q({...c,showOutline:e?.disableOutline?!e?.disableOutline:e?.showOutline,isOneChar:d,isDot:p}),[$(c),d,p]),k=()=>({className:P.badge({class:v}),"data-invisible":e.isInvisible,...h});return{Component:b,children:s,content:n,slots:P,classNames:m,disableAnimation:a,isInvisible:e?.isInvisible,getBadgeProps:k}}var K=H((e,r)=>{const{Component:i,children:o,content:a,slots:t,classNames:c,getBadgeProps:u}=be({...e});return x.jsxs("div",{className:t.base({class:c?.base}),children:[o,x.jsx(i,{ref:r,...u(),children:a})]})});K.displayName="HeroUI.Badge";var we=K;function he(e){var r,i;const o=q(),[a,t]=Z(e,L.variantKeys),{ref:c,as:u,src:s,className:f,classNames:n,loading:m,isBlurred:h,fallbackSrc:b,isLoading:d,disableSkeleton:p=!!b,removeWrapper:v=!1,onError:P,onLoad:k,srcSet:w,sizes:O,crossOrigin:R,...S}=a,C=me({src:s,loading:m,onError:P,onLoad:k,ignoreFallback:!1,srcSet:w,sizes:O,crossOrigin:R}),M=(i=(r=e.disableAnimation)!=null?r:o?.disableAnimation)!=null?i:!1,E=C==="loaded"&&!d,W=C==="loading"||d,U=e.isZoomed,G=u||"img",B=le(c),{w:A,h:J}=g.useMemo(()=>({w:a.width?typeof a.width=="number"?`${a.width}px`:a.width:"fit-content",h:a.height?typeof a.height=="number"?`${a.height}px`:a.height:"auto"}),[a?.width,a?.height]),j=(!s||!E)&&!!b,F=W&&!p,y=g.useMemo(()=>L({...t,disableAnimation:M,showSkeleton:F}),[$(t),M,F]),X=z(f,n?.img),Y=(I={})=>{const te=z(X,I?.className);return{src:s,ref:B,"data-loaded":D(E),className:y.img({class:te}),loading:m,srcSet:w,sizes:O,crossOrigin:R,...S,style:{...S?.height&&{height:J},...I.style,...S.style}}},ee=g.useCallback(()=>{const I=j?{backgroundImage:`url(${b})`}:{};return{className:y.wrapper({class:n?.wrapper}),style:{...I,maxWidth:A}}},[y,j,b,n?.wrapper,A]),ae=g.useCallback(()=>({src:s,"aria-hidden":D(!0),className:y.blurredImg({class:n?.blurredImg})}),[y,s,n?.blurredImg]);return{Component:G,domRef:B,slots:y,classNames:n,isBlurred:h,disableSkeleton:p,fallbackSrc:b,removeWrapper:v,isZoomed:U,isLoading:W,getImgProps:Y,getWrapperProps:ee,getBlurredImgProps:ae}}var T=H((e,r)=>{const{Component:i,domRef:o,slots:a,classNames:t,isBlurred:c,isZoomed:u,fallbackSrc:s,removeWrapper:f,disableSkeleton:n,getImgProps:m,getWrapperProps:h,getBlurredImgProps:b}=he({...e,ref:r}),d=x.jsx(i,{ref:o,...m()});if(f)return d;const p=x.jsx("div",{className:a.zoomedWrapper({class:t?.zoomedWrapper}),children:d});return c?x.jsxs("div",{...h(),children:[u?p:d,g.cloneElement(d,b())]}):u||!n||s?x.jsxs("div",{...h(),children:[" ",u?p:d]}):d});T.displayName="HeroUI.Image";var ye=T;function pe({hasNextPage:e,isFetchingNextPage:r,fetchNextPage:i}){const o=g.useRef(null),a=g.useRef(null);return g.useEffect(()=>{if(!e||r)return;const t=c=>{c[0].isIntersecting&&i()};return a.current&&(o.current=new IntersectionObserver(t),o.current.observe(a.current)),()=>{o.current&&o.current.disconnect()}},[e,r,i]),a}const xe=({collection:e,pageSize:r=12,sort:i="created"})=>{const o=de(),a=async({pageParam:d=1})=>await N.collection(e).getList(d,r,{sort:i}),{data:t,fetchNextPage:c,hasNextPage:u,isFetchingNextPage:s,isLoading:f}=ue({queryKey:[e],queryFn:a,getNextPageParam:d=>d?.page<d?.totalPages?d.page+1:void 0,staleTime:1,initialPageParam:1}),n=g.useMemo(()=>t?.pages.flatMap(d=>d.items)??[],[t]),[m,h]=g.useState(n);g.useEffect(()=>{n!==m&&h(n)},[t,m]),g.useEffect(()=>{let d=!0;return(async()=>{try{await N.collection(e).subscribe("*",v=>{d&&(console.log("Realtime event:",v.action,v.record),o.invalidateQueries({queryKey:[e]}))})}catch(v){console.error("Realtime subscription failed:",v)}})(),()=>{d=!1,N.collection(e).unsubscribe()}},[e,o]);const b=pe({hasNextPage:!!u,isFetchingNextPage:s,fetchNextPage:c});return{items:m,loadMoreRef:b,isLoading:f,isFetchingNextPage:s}};export{we as b,ye as i,xe as u};
